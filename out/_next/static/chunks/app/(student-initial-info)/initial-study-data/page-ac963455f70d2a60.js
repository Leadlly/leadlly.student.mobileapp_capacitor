(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8187],{1050:function(e,t,r){Promise.resolve().then(r.bind(r,9822))},8165:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.373.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r(3480).Z)("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]])},2023:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.373.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r(3480).Z)("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]])},399:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});/**
 * @license lucide-react v0.373.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,r(3480).Z)("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]])},9430:function(e,t,r){"use strict";r.d(t,{Ui:function(){return l},WV:function(){return c},rK:function(){return o}});var a=r(8732),n=r(9088);let c=async()=>{let e=await (0,a.e)();try{let t=await fetch("".concat("http://192.168.1.3:4000","/api/planner/get"),{method:"GET",headers:{"Content-Type":"application/json",Cookie:"token=".concat(e)},credentials:"include",cache:"force-cache",next:{tags:["plannerData"]}});return await t.json()}catch(e){if(e instanceof Error)throw Error("Error fetching planner data: ".concat(e.message));throw Error("An unknown error occurred while fetching planner data!")}},o=async()=>{let e=await (0,a.e)();try{let t=await fetch("".concat("http://192.168.1.3:4000","/api/planner/create"),{method:"GET",headers:{"Content-Type":"application/json",Cookie:"token=".concat(e)},credentials:"include"});return await t.json()}catch(e){if(e instanceof Error)throw Error("Error creating planner: ".concat(e.message));throw Error("An unknown error occurred while creating planner!")}},l=async()=>{let e=await (0,a.e)();try{let t=await fetch("".concat("http://192.168.1.3:4000","/api/planner/update"),{method:"GET",headers:{"Content-Type":"application/json",Cookie:"token=".concat(e)},credentials:"include"}),r=await t.json();return(0,n.revalidateTag)("plannerData"),r}catch(e){if(e instanceof Error)throw Error("Error creating planner: ".concat(e.message));throw Error("An unknown error occurred while creating planner!")}}},9822:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return x}});var a=r(7437),n=r(9750),c=r(2265),o=r(9354),l=r(8047),i=r(7776),s=r(8675),u=r(7758),d=r(6648),p=r(6090),h=r(1745),f=r(9430),m=r(9733),v=r(3274),y=r(6463),w=()=>{let[e,t]=(0,c.useState)(!1),r=(0,y.useRouter)(),n=async()=>{t(!0);try{let e=await (0,f.rK)();e.success&&(i.A.success(e.message),console.log("inside plannerData"),r.replace("/"))}catch(e){i.A.error(e.message)}finally{t(!1)}};return(0,a.jsx)(m.z,{onClick:n,className:"text-base w-20 leading-tight text-primary border-primary hover:bg-primary/10 hover:text-primary",disabled:e,variant:"outline",children:e?(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(v.Z,{className:"w-5 h-5 animate-spin"})}):"Proceed"})},b=e=>{var t,r;let{unrevisedTopics:n}=e,[f,m]=(0,c.useState)([]),[v,y]=(0,c.useState)(()=>()=>{}),b=(0,s.CG)(e=>{var t;return null===(t=e.user.user)||void 0===t?void 0:t.academic}),[x,k]=(0,c.useState)(null==b?void 0:null===(t=b.subjects)||void 0===t?void 0:t[0].name),g=(0,c.useCallback)(e=>{y(()=>e)},[]);return(0,c.useEffect)(()=>{(async()=>{try{let e=await (0,l.L)(x,null==b?void 0:b.standard);m(e.chapters)}catch(e){i.A.error("Unable to fetch chapters!",{description:e.message})}})()},[x,null==b?void 0:b.standard]),(0,a.jsxs)("section",{className:"flex flex-col w-full",children:[(0,a.jsxs)("div",{className:"px-3 flex items-center justify-between",children:[(0,a.jsx)(d.default,{src:"/assets/images/leadlly_logo.svg",alt:"Leadlly",width:130,height:60}),(0,a.jsx)(w,{})]}),(0,a.jsxs)("div",{className:"w-full h-[calc(100dvh-52px)] px-3 py-10 sm:px-10 lg:p-6 space-y-3 flex flex-col",children:[(0,a.jsx)("h1",{className:"max-w-md w-full mx-auto text-center text-xl md:text-3xl font-semibold",children:"Tell us what you learnt till now"}),(0,a.jsx)("p",{className:"max-w-md w-full mx-auto text-center text-base leading-tight",children:"Choose the chapters and topics you've finished in your classes"}),(0,a.jsx)("div",{className:"flex justify-center",children:(0,a.jsx)("ul",{className:"flex items-center gap-3 border-2 rounded-md p-1",children:null==b?void 0:null===(r=b.subjects)||void 0===r?void 0:r.map(e=>(0,a.jsxs)("li",{className:(0,o.cn)("relative text-base md:text-lg capitalize font-medium px-3 py-1 cursor-pointer",x===e.name&&"text-white"),onClick:()=>{k(e.name),v()},children:[e.name,x===e.name&&(0,a.jsx)(u.y,{layoutId:"active_chat_tab",transition:{type:"spring",duration:.6},className:"absolute rounded h-full w-full -z-10 bg-primary inset-0"})]},e.name))})}),(0,a.jsx)(p.Z,{activeSubject:x,subjectChapters:f,userStandard:null==b?void 0:b.standard,onResetForm:g}),(0,a.jsx)("div",{className:"flex-1 overflow-y-auto",children:(0,a.jsx)(h.Z,{unrevisedTopics:n})})]})]})},x=async()=>{let[e,t]=(0,c.useState)(null);return(0,c.useEffect)(()=>{(async()=>{t((await (0,n.SA)()).data)})()},[]),(0,a.jsx)(b,{unrevisedTopics:e})}},9497:function(e,t,r){"use strict";r.d(t,{ck:function(){return D},fC:function(){return q},z$:function(){return G}});var a=r(2988),n=r(2265),c=r(8149),o=r(1584),l=r(8324),i=r(5171),s=r(3398),u=r(1715),d=r(7513),p=r(5238),h=r(7250),f=r(1383);let m="Radio",[v,y]=(0,l.b)(m),[w,b]=v(m),x=(0,n.forwardRef)((e,t)=>{let{__scopeRadio:r,name:l,checked:s=!1,required:u,disabled:d,value:p="on",onCheck:h,...f}=e,[m,v]=(0,n.useState)(null),y=(0,o.e)(t,e=>v(e)),b=(0,n.useRef)(!1),x=!m||!!m.closest("form");return(0,n.createElement)(w,{scope:r,checked:s,disabled:d},(0,n.createElement)(i.WV.button,(0,a.Z)({type:"button",role:"radio","aria-checked":s,"data-state":E(s),"data-disabled":d?"":void 0,disabled:d,value:p},f,{ref:y,onClick:(0,c.M)(e.onClick,e=>{s||null==h||h(),x&&(b.current=e.isPropagationStopped(),b.current||e.stopPropagation())})})),x&&(0,n.createElement)(g,{control:m,bubbles:!b.current,name:l,value:p,checked:s,required:u,disabled:d,style:{transform:"translateX(-100%)"}}))}),k=(0,n.forwardRef)((e,t)=>{let{__scopeRadio:r,forceMount:c,...o}=e,l=b("RadioIndicator",r);return(0,n.createElement)(f.z,{present:c||l.checked},(0,n.createElement)(i.WV.span,(0,a.Z)({"data-state":E(l.checked),"data-disabled":l.disabled?"":void 0},o,{ref:t})))}),g=e=>{let{control:t,checked:r,bubbles:c=!0,...o}=e,l=(0,n.useRef)(null),i=(0,h.D)(r),s=(0,p.t)(t);return(0,n.useEffect)(()=>{let e=l.current,t=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(i!==r&&t){let a=new Event("click",{bubbles:c});t.call(e,r),e.dispatchEvent(a)}},[i,r,c]),(0,n.createElement)("input",(0,a.Z)({type:"radio","aria-hidden":!0,defaultChecked:r},o,{tabIndex:-1,ref:l,style:{...e.style,...s,position:"absolute",pointerEvents:"none",opacity:0,margin:0}}))};function E(e){return e?"checked":"unchecked"}let j=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],C="RadioGroup",[R,_]=(0,l.b)(C,[s.Pc,y]),Z=(0,s.Pc)(),N=y(),[M,T]=R(C),A=(0,n.forwardRef)((e,t)=>{let{__scopeRadioGroup:r,name:c,defaultValue:o,value:l,required:p=!1,disabled:h=!1,orientation:f,dir:m,loop:v=!0,onValueChange:y,...w}=e,b=Z(r),x=(0,d.gm)(m),[k,g]=(0,u.T)({prop:l,defaultProp:o,onChange:y});return(0,n.createElement)(M,{scope:r,name:c,required:p,disabled:h,value:k,onValueChange:g},(0,n.createElement)(s.fC,(0,a.Z)({asChild:!0},b,{orientation:f,dir:x,loop:v}),(0,n.createElement)(i.WV.div,(0,a.Z)({role:"radiogroup","aria-required":p,"aria-orientation":f,"data-disabled":h?"":void 0,dir:x},w,{ref:t}))))}),V=(0,n.forwardRef)((e,t)=>{let{__scopeRadioGroup:r,disabled:l,...i}=e,u=T("RadioGroupItem",r),d=u.disabled||l,p=Z(r),h=N(r),f=(0,n.useRef)(null),m=(0,o.e)(t,f),v=u.value===i.value,y=(0,n.useRef)(!1);return(0,n.useEffect)(()=>{let e=e=>{j.includes(e.key)&&(y.current=!0)},t=()=>y.current=!1;return document.addEventListener("keydown",e),document.addEventListener("keyup",t),()=>{document.removeEventListener("keydown",e),document.removeEventListener("keyup",t)}},[]),(0,n.createElement)(s.ck,(0,a.Z)({asChild:!0},p,{focusable:!d,active:v}),(0,n.createElement)(x,(0,a.Z)({disabled:d,required:u.required,checked:v},h,i,{name:u.name,ref:m,onCheck:()=>u.onValueChange(i.value),onKeyDown:(0,c.M)(e=>{"Enter"===e.key&&e.preventDefault()}),onFocus:(0,c.M)(i.onFocus,()=>{var e;y.current&&(null===(e=f.current)||void 0===e||e.click())})})))}),S=(0,n.forwardRef)((e,t)=>{let{__scopeRadioGroup:r,...c}=e,o=N(r);return(0,n.createElement)(k,(0,a.Z)({},o,c,{ref:t}))}),q=A,D=V,G=S},7250:function(e,t,r){"use strict";r.d(t,{D:function(){return n}});var a=r(2265);function n(e){let t=(0,a.useRef)({value:e,previous:e});return(0,a.useMemo)(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}}},function(e){e.O(0,[5473,8100,2642,1444,2810,1336,1905,7730,1243,323,1485,9612,803,2863,3173,2971,7023,1744],function(){return e(e.s=1050)}),_N_E=e.O()}]);