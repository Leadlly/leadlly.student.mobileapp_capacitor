(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4665],{4488:function(e,r,t){Promise.resolve().then(t.bind(t,9743))},8732:function(e,r,t){"use strict";t.d(r,{e:function(){return s}});var n=t(9826);let s=async()=>{var e;return null!==(e=(await n.u.get({key:"token"})).value)&&void 0!==e?e:""}},1125:function(e,r,t){"use strict";t.d(r,{gF:function(){return l},PR:function(){return u},pH:function(){return c},Rv:function(){return i},nl:function(){return f},SA:function(){return o},Aj:function(){return d},A9:function(){return a}});var n=t(8732);let s=t(8472).Z.create({baseURL:"http://192.168.1.3:4000",withCredentials:!0,headers:{"Content-Type":"application/json"}});s.interceptors.request.use(e=>e,e=>Promise.reject(e)),s.interceptors.response.use(e=>e,e=>Promise.reject(e));let o=async e=>{try{let r=await fetch("".concat("http://192.168.1.3:4000","/api/auth/register"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e),credentials:"include",cache:"no-store"});return await r.json()}catch(e){if(e instanceof Error)throw Error("Error registering user: ".concat(e.message));throw Error("An unknown error occurred while registering user!")}},a=async e=>{try{let r=await fetch("".concat("http://192.168.1.3:4000","/api/auth/verify"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e),credentials:"include",cache:"no-store"});return await r.json()}catch(e){if(e instanceof Error)throw Error("Error verifying user: ".concat(e.message));throw Error("An unknown error occurred while verifying user!")}},i=async e=>{try{return(await s.post("/api/auth/resend",{email:e})).data}catch(e){if(e instanceof Error)throw Error("Error re-sending OTP: ".concat(e.message));throw Error("An unknown error occurred while re-sending OTP!")}},c=async e=>{try{let r=await fetch("".concat("http://192.168.1.3:4000","/api/auth/login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e),credentials:"include",cache:"no-store"});return await r.json()}catch(e){if(e instanceof Error)throw Error("Error signing in user: ".concat(e.message));throw Error("An unknown error occurred while signing in user!")}},l=async e=>{try{let r=await fetch("".concat("http://192.168.1.3:4000","/api/auth/forgetpassword"),{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"},credentials:"include",cache:"no-store"});return await r.json()}catch(e){if(e instanceof Error)throw Error("Error sending password resetting link: ".concat(e.message));throw Error("An unknown error occurred while sending password resetting link!")}},u=async()=>{try{let e=await (0,n.e)(),r=await fetch("".concat("http://192.168.1.3:4000","/api/auth/user"),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)},credentials:"include"});return await r.json()}catch(e){if(e instanceof Error)throw Error("Error in fetching logged in user: ".concat(e.message));throw Error("An unknown error occurred while fetching logged in user")}},d=async e=>{try{let r=await (0,n.e)(),t=await fetch("".concat("http://192.168.1.3:4000","/api/user/profile/save"),{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(r)},credentials:"include"});return console.log(r),await t.json()}catch(e){if(e instanceof Error)throw Error("Error in saving student info: ".concat(e.message));throw Error("An unknown error occurred while saving student info")}},f=async e=>{try{let r=await (0,n.e)(),t=await fetch("".concat("http://192.168.1.3:4000","/api/user/todaysVibe/save"),{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(r)},credentials:"include"});return await t.json()}catch(e){if(e instanceof Error)throw Error("Error in saving student current mood: ".concat(e.message));throw Error("An unknown error occurred while saving student current mood!")}}},3650:function(e,r,t){"use strict";var n=t(7437),s=t(1125),o=t(9733),a=t(8675),i=t(1172),c=t(8735),l=t(8472),u=t(3274),d=t(6648),f=t(6463),h=t(2265),m=t(7776);r.Z=()=>{let[e,r]=(0,h.useState)(!1),t=(0,f.useRouter)(),p=(0,a.TL)(),g=(0,c.Nq)({onSuccess:async e=>{r(!0);try{let r=await l.Z.post("/api/google/auth",{access_token:e.access_token},{withCredentials:!0,headers:{"Content-Type":"application/json"}});console.log(r);let n=await (0,s.PR)();p((0,i.ZW)(n.user)),m.A.success("Login success",{description:r.data.message}),201===r.status?t.replace("/initial-info"):t.replace("/")}catch(e){var n,o;console.error("Axios error:",e),m.A.error("Google login failed!",{description:(null===(o=e.response)||void 0===o?void 0:null===(n=o.data)||void 0===n?void 0:n.message)||e.message})}finally{r(!1)}},onError:e=>{console.error("Google login error:",e),m.A.error("Google login failed!",{description:e.message})}});return(0,n.jsx)(o.z,{type:"button",variant:"outline",onClick:()=>g(),className:"w-full text-lg lg:text-xl h-12 gap-2",disabled:e,children:e?(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(u.Z,{className:"w-5 h-5 animate-spin"})}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(d.default,{src:"/assets/icons/google-icon.svg",alt:"Sign in with Google",width:17,height:17}),"Sign in with Google"]})})}},9743:function(e,r,t){"use strict";t.d(r,{default:function(){return P}});var n=t(7437),s=t(2265),o=t(7138),a=t(6648),i=t(6463),c=t(9772);let l=c.z.object({email:c.z.string().email({message:"Please enter your email"}),password:c.z.string().min(8,{message:"Please enter your password"})});var u=t(1014),d=t(9343),f=t(2022),h=t(4453),m=t(7019),p=t(5733),g=t(3274),x=t(7776),w=t(9324),y=t(2468),v=t(9354);let j=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,n.jsx)(w.fC,{ref:r,className:(0,v.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...s,children:(0,n.jsx)(w.z$,{className:(0,v.cn)("flex items-center justify-center text-current"),children:(0,n.jsx)(y.Z,{className:"h-3 w-3"})})})});j.displayName=w.fC.displayName;var b=t(9733),N=t(3363),E=t(7209),k=t(3650),C=t(1125),S=t(9826),A=t(5425),P=()=>{let[e,r]=(0,s.useState)(!1),[t,c]=(0,s.useState)(!1),w=(0,i.useRouter)(),{setUser:y}=(0,A.a)(),v=(0,d.cI)({resolver:(0,u.F)(l),defaultValues:{email:"",password:""}}),P=async e=>{c(!0);try{let r=await (0,C.pH)(e);r.success?(await S.u.set({key:"token",value:r.token}),y(r.user),x.A.success(r.message),w.replace("/")):x.A.error(r.message)}catch(e){var r;console.log(e),x.A.error("Login Failed",{description:e.response?null===(r=e.response)||void 0===r?void 0:r.data.message:e.message})}finally{c(!1)}};return(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("div",{className:"h-main-height relative",children:[(0,n.jsx)("div",{className:"flex items-center px-5 py-2 lg:mx-24",children:(0,n.jsx)(a.default,{src:"/assets/images/leadlly_logo.svg",alt:"Leadlly_Logo",width:150,height:50})}),(0,n.jsx)("div",{className:"h-[calc(100%-56px)] flex items-center px-4 lg:mx-20",children:(0,n.jsxs)("div",{className:"flex flex-col xl:flex-row items-center justify-between lg:gap-6 w-full",children:[(0,n.jsxs)("div",{className:"rounded-3xl px-5 sm:px-8 lg:px-12 py-10 lg:py-14 shadow-xl max-w-[530px] w-full flex flex-col justify-start space-y-4",children:[(0,n.jsxs)("div",{className:"text-center space-y-2",children:[(0,n.jsx)("h3",{className:"text-2xl lg:text-[52px] font-bold leading-none",children:"Welcome"}),(0,n.jsx)("p",{className:"text-base lg:text-lg",children:"We are glad to see you with us"})]}),(0,n.jsx)(N.l0,{...v,children:(0,n.jsxs)("form",{onSubmit:v.handleSubmit(P),className:"space-y-4",children:[(0,n.jsx)(N.Wi,{control:v.control,name:"email",render:e=>{let{field:r}=e;return(0,n.jsxs)(N.xJ,{children:[(0,n.jsx)(N.NI,{children:(0,n.jsx)(E.I,{placeholder:"Email",icon1:(0,n.jsx)(f.Z,{className:"w-5 h-5 opacity-70"}),className:"focus-visible:ring-0 text-lg focus:ring-offset-0",inputWrapperClassName:"h-12",...r})}),(0,n.jsx)(N.zG,{})]})}}),(0,n.jsx)(N.Wi,{control:v.control,name:"password",render:t=>{let{field:s}=t;return(0,n.jsxs)(N.xJ,{children:[(0,n.jsx)(N.NI,{children:(0,n.jsx)(E.I,{type:e?"text":"password",placeholder:"Create password",icon1:(0,n.jsx)(h.Z,{className:"w-5 h-5 opacity-70"}),icon2:(0,n.jsx)("div",{className:"cursor-pointer",onClick:()=>r(!e),children:e?(0,n.jsx)(m.Z,{className:"w-5 h-5 opacity-70"}):(0,n.jsx)(p.Z,{className:"w-5 h-5 opacity-70"})}),className:"focus-visible:ring-0 text-lg focus:ring-offset-0",inputWrapperClassName:"h-12",...s})}),(0,n.jsx)(N.zG,{})]})}}),(0,n.jsxs)("div",{className:"w-full flex items-center justify-between",children:[(0,n.jsxs)("div",{className:"flex items-center gap-3",children:[(0,n.jsx)(j,{id:"remember-password"}),(0,n.jsx)("label",{htmlFor:"remember-password",className:"mt-1",children:"Remember Password"})]}),(0,n.jsx)("div",{children:(0,n.jsx)(o.default,{href:"/forgot-password",className:"text-primary",children:"Forgot Password?"})})]}),(0,n.jsx)(b.z,{type:"submit",className:"w-full text-lg md:text-xl h-12",disabled:t,children:t?(0,n.jsxs)("span",{className:"flex items-center",children:[(0,n.jsx)(g.Z,{className:"w-6 h-6 animate-spin mr-2"})," ","Signing in"]}):"Login"})]})}),(0,n.jsx)(k.Z,{}),(0,n.jsx)("div",{className:"w-full text-center",children:(0,n.jsxs)("p",{children:["No account yet?"," ",(0,n.jsx)(o.default,{href:"/signup",className:"text-primary",children:"Sign Up"})]})})]}),(0,n.jsx)("div",{className:"relative hidden xl:block w-56 h-56 sm:w-96 sm:h-96 md:w-[500px] md:h-[500px]",children:(0,n.jsx)(a.default,{src:"/assets/icons/Loginpic.png",alt:"Login_page_photo",fill:!0,className:"object-contain"})})]})}),(0,n.jsx)("span",{className:"absolute hidden xl:block bottom-0 xl:right-0 -z-20 w-full xl:w-80 h-32 sm:h-64 xl:h-full rounded-tl-[40px] rounded-tr-[40px] xl:rounded-tr-none xl:rounded-bl-[40px] bg-[#FCF3FF]"})]})})}},9733:function(e,r,t){"use strict";t.d(r,{d:function(){return c},z:function(){return l}});var n=t(7437),s=t(2265),o=t(1538),a=t(2218),i=t(9354);let c=(0,a.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),l=s.forwardRef((e,r)=>{let{className:t,variant:s,size:a,asChild:l=!1,...u}=e,d=l?o.g7:"button";return(0,n.jsx)(d,{className:(0,i.cn)(c({variant:s,size:a,className:t})),ref:r,...u})});l.displayName="Button"},3363:function(e,r,t){"use strict";t.d(r,{NI:function(){return g},Wi:function(){return d},l0:function(){return l},lX:function(){return p},pf:function(){return x},xJ:function(){return m},zG:function(){return w}});var n=t(7437),s=t(2265),o=t(1538),a=t(9343),i=t(9354),c=t(402);let l=a.RV,u=s.createContext({}),d=e=>{let{...r}=e;return(0,n.jsx)(u.Provider,{value:{name:r.name},children:(0,n.jsx)(a.Qr,{...r})})},f=()=>{let e=s.useContext(u),r=s.useContext(h),{getFieldState:t,formState:n}=(0,a.Gc)(),o=t(e.name,n);if(!e)throw Error("useFormField should be used within <FormField>");let{id:i}=r;return{id:i,name:e.name,formItemId:"".concat(i,"-form-item"),formDescriptionId:"".concat(i,"-form-item-description"),formMessageId:"".concat(i,"-form-item-message"),...o}},h=s.createContext({}),m=s.forwardRef((e,r)=>{let{className:t,...o}=e,a=s.useId();return(0,n.jsx)(h.Provider,{value:{id:a},children:(0,n.jsx)("div",{ref:r,className:(0,i.cn)("space-y-2",t),...o})})});m.displayName="FormItem";let p=s.forwardRef((e,r)=>{let{className:t,...s}=e,{error:o,formItemId:a}=f();return(0,n.jsx)(c._,{ref:r,className:(0,i.cn)(o&&"text-destructive",t),htmlFor:a,...s})});p.displayName="FormLabel";let g=s.forwardRef((e,r)=>{let{...t}=e,{error:s,formItemId:a,formDescriptionId:i,formMessageId:c}=f();return(0,n.jsx)(o.g7,{ref:r,id:a,"aria-describedby":s?"".concat(i," ").concat(c):"".concat(i),"aria-invalid":!!s,...t})});g.displayName="FormControl";let x=s.forwardRef((e,r)=>{let{className:t,...s}=e,{formDescriptionId:o}=f();return(0,n.jsx)("p",{ref:r,id:o,className:(0,i.cn)("text-sm text-muted-foreground",t),...s})});x.displayName="FormDescription";let w=s.forwardRef((e,r)=>{let{className:t,children:s,...o}=e,{error:a,formMessageId:c}=f(),l=a?String(null==a?void 0:a.message):s;return l?(0,n.jsx)("p",{ref:r,id:c,className:(0,i.cn)("text-sm font-medium text-destructive",t),...o,children:l}):null});w.displayName="FormMessage"},7209:function(e,r,t){"use strict";t.d(r,{I:function(){return a}});var n=t(7437),s=t(2265),o=t(9354);let a=s.forwardRef((e,r)=>{let{className:t,type:s,icon1:a,icon2:i,inputWrapperClassName:c,countryCodeClassName:l,...u}=e;return(0,n.jsxs)("div",{className:(0,o.cn)("flex items-center gap-x-2 px-3 py-1 border border-input rounded-md h-10  bg-background",c),children:[a&&a,"tel"===s&&(0,n.jsx)("span",{className:(0,o.cn)(l),children:"+91"}),(0,n.jsx)("input",{type:s,className:(0,o.cn)("h-full w-full text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2  focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...u}),i&&i]})});a.displayName="Input"},402:function(e,r,t){"use strict";t.d(r,{_:function(){return l}});var n=t(7437),s=t(2265),o=t(8364),a=t(2218),i=t(9354);let c=(0,a.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),l=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,n.jsx)(o.f,{ref:r,className:(0,i.cn)(c(),t),...s})});l.displayName=o.f.displayName},5425:function(e,r,t){"use strict";t.d(r,{AuthProviderContext:function(){return c},a:function(){return l}});var n=t(7437),s=t(1125),o=t(9826),a=t(2265);let i=(0,a.createContext)({token:null,setToken:()=>{},user:null,setUser:()=>{}}),c=e=>{let{children:r}=e,[t,c]=(0,a.useState)(null),[l,u]=(0,a.useState)(null);return(0,a.useEffect)(()=>{(async()=>{let e=await o.u.get({key:"token"});console.log(e),c(e.value)})()},[]),(0,a.useEffect)(()=>{(async()=>{u((await (0,s.PR)()).user)})()},[t]),(0,n.jsx)(i.Provider,{value:{token:t,user:l,setToken:c,setUser:u},children:r})};function l(){let e=(0,a.useContext)(i);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},9354:function(e,r,t){"use strict";t.d(r,{cn:function(){return o}});var n=t(4839),s=t(6164);function o(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return(0,s.m6)((0,n.W)(r))}},8675:function(e,r,t){"use strict";t.d(r,{CG:function(){return o},TL:function(){return s}});var n=t(1444);let s=n.I0.withTypes(),o=n.v9.withTypes();n.oR.withTypes()},1172:function(e,r,t){"use strict";t.d(r,{ZW:function(){return s}});let n=(0,t(9753).oM)({name:"user",initialState:{user:null},reducers:{userData:(e,r)=>{e.user=r.payload}}}),{userData:s}=n.actions;r.ZP=n.reducer}},function(e){e.O(0,[6776,8100,231,8472,1859,1444,9753,9585,2971,7023,1744],function(){return e(e.s=4488)}),_N_E=e.O()}]);